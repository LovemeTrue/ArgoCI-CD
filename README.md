# üöÄ Elma365 GitOps Platform with ArgoCD & Helm

–≠—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Ä–µ–∞–ª–∏–∑—É–µ—Ç **GitOps-–ø–ª–∞—Ç—Ñ–æ—Ä–º—É** –¥–ª—è –¥–µ–ø–ª–æ—è `elma365` –∏ `elma365-dbs` –≤ Kubernetes —á–µ—Ä–µ–∑ **ArgoCD + Helm**, —Å –ø–æ–ª–Ω–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ Makefile –∏ GitHub Actions.

---

## üß∞ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Helm-—á–∞—Ä—Ç–æ–≤ `elma365` –∏ `elma365-dbs`
- üîÅ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏—è–º–∏ ‚Äî —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è —á–∞—Ä—Ç–∞ –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ
- üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å ArgoCD
- üßπ –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏ –ª–æ–∫–∞–ª—å–Ω—ã—Ö Git-–≤–µ—Ç–æ–∫
- üõ† CI/CD —á–µ—Ä–µ–∑ GitHub Actions
- ‚òÅÔ∏è –ê—Ä–≥–æCD App of Apps + `sync-wave` + `depends-on`

---

## ‚öôÔ∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –æ–∫—Ä—É–∂–µ–Ω–∏—é

–ù–∞ –º–∞—à–∏–Ω–µ, –æ—Ç–∫—É–¥–∞ —Ç—ã –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä—É–µ—à—å –¥–µ–ø–ª–æ–π, —É—Å—Ç–∞–Ω–æ–≤–∏:

| –ü–∞–∫–µ—Ç       | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                            |
|-------------|----------------------------------------|
| `kubectl`   | –†–∞–±–æ—Ç–∞ —Å Kubernetes                    |
| `helm`      | –†–∞–±–æ—Ç–∞ —Å Helm-—á–∞—Ä—Ç–∞–º–∏                  |
| `make`      | –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ü–µ–ª–µ–π Makefile              |
| `yq`        | –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ YAML (CLI)              |
| `git`       | –†–∞–±–æ—Ç–∞ —Å Git                           |
| `gh`        | GitHub CLI ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ Pull Request     |
| `argocd`    | CLI –¥–ª—è ArgoCD (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)           |

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```
‚îú‚îÄ‚îÄ apps/ # ArgoCD Application YAML'—ã
‚îú‚îÄ‚îÄ values/ # values-—Ñ–∞–π–ª—ã –¥–ª—è Helm
‚îú‚îÄ‚îÄ 2025.4.3/
‚îÇ ‚îú‚îÄ‚îÄ elma365/ # —á–∞—Ä—Ç + values
‚îÇ ‚îî‚îÄ‚îÄ elma365-dbs/ # —á–∞—Ä—Ç + values
‚îú‚îÄ‚îÄ Makefile # –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
‚îú‚îÄ‚îÄ .github/workflows/ # CI (ArgoCD sync, helm validate)
```
---

## üîß –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ Makefile

| –ö–æ–º–∞–Ω–¥–∞                              | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç                                                   |
|--------------------------------------|--------------------------------------------------------------|
| `make release VERSION=2025.4.3`      | –°–∫–∞—á–∏–≤–∞–µ—Ç —á–∞—Ä—Ç—ã elma365/elma365-dbs –∏ –∫–æ–ø–∏—Ä—É–µ—Ç values        |
| `make gen-apps VERSION=2025.4.3`     | –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç YAML-—Ñ–∞–π–ª—ã ArgoCD Application                    |
| `make release-full VERSION=...`      | –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª: release ‚Üí cleanup ‚Üí gen-apps ‚Üí git push         |
| `make cleanup-old-apps`              | –£–¥–∞–ª—è–µ—Ç —Å—Ç–∞—Ä—ã–µ `apps/elma365-*.yaml`, –∫—Ä–æ–º–µ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏   |
| `make cleanup-local-branches`        | –£–¥–∞–ª—è–µ—Ç –≤—Å–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ Git-–≤–µ—Ç–∫–∏ –∫—Ä–æ–º–µ `main`                 |
| `make delete-old-applications`       | –£–¥–∞–ª—è–µ—Ç —Å—Ç–∞—Ä—ã–µ ArgoCD Application –∏–∑ –∫–ª–∞—Å—Ç–µ—Ä–∞                |

---

## üöÄ –î–µ–ø–ª–æ–π –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏

–ü—Ä–∏–º–µ—Ä –¥–ª—è –≤–µ—Ä—Å–∏–∏ `2025.4.3`:

```bash
make release-full VERSION=2025.4.3
